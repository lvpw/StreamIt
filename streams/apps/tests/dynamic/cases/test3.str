void->void pipeline test3 {
    add FileReader<float>("./cases/floats.in");
    for(int i=1; i<=1; i++)
        add Fdynamic();
    add FileWriter<float>(stdout);
}

float->float filter Fstatic() {
    work pop 1 push 1 {
        int i;
        float x;
        x = pop();
        for (i = 0; i < 50; i++) {
            x += i * 3.0 - 1.0;
        }
        push(x);
    }
}

float->float filter Fdynamic() {
    work pop * push * {
        int i;
        float x;
        x = pop();
        for (i = 0; i < 50; i++) {
            x += i * 3.0 - 1.0;
        }
        push(x);
    }
}
