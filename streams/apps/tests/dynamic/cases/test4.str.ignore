
void->int stateful filter Source {
  int count;
  init {
     count = 0;
  }
  work push * {
    int i;
    for(i=0; i < count%10; i++)
             push(count++);
  }
}

int->void filter Sink {
   work pop * {
     println(pop());
   }
}

void->void pipeline test4 {
    add Source();
    add Sink();
}

