\documentclass[12pt,twoside]{mitthesis}
\usepackage{url}
\usepackage{epsfig}
\usepackage{reader}
\usepackage{times}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{subfigure}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{appendix}
\usepackage{color}
\usepackage[nolineno]{lgrind}
\usepackage[colorlinks=true,pdfstartview=FitV,
            linkcolor=linkcolor,citecolor=linkcolor,urlcolor=linkcolor]{hyperref}
\usepackage[all]{hypcap}
% replace courier with beramono, a fixed-width font that is more condensed
% see more fonts here:  http://www.tug.dk/FontCatalogue/
\usepackage[T1]{fontenc}
%\renewcommand*\ttdefault{lcmtt}    % Computer Modern Teletype L
%\renewcommand*\ttdefault{cmvtt}    % Computer Modern Teletype Proportional
\usepackage[scaled=0.88]{beramono}

% bold italic font
\newfont{\boldit}{cmbxti11}
\newfont{\boldslant}{cmbxsl11}

% the color of all my links
\definecolor{linkcolor}{rgb}{0,0,0}  % FOR PRINTING
%\definecolor{linkcolor}{rgb}{0,0,1}  % FOR WEB

% figure spacing...
% space between floats
\setlength{\floatsep}{36pt}
% space between last top float or first bottom float and the text
\setlength{\textfloatsep}{24pt}
% space above caption
%\setlength{\abovecaptionskip}{}
% space below caption
%\setlength{\belowcaptionskip}{}

% some handy font sizes
\newcommand{\sevenpoint}{\fontsize{7pt}{9pt}\selectfont}
\newcommand{\eightpoint}{\fontsize{8pt}{10pt}\selectfont}
\newcommand{\ninepoint}{\fontsize{9pt}{11pt}\selectfont}
\newcommand{\tenpoint}{\fontsize{10pt}{12pt}\selectfont}
\newcommand{\elevenpoint}{\fontsize{11pt}{13pt}\selectfont}
\newcommand{\twelvepoint}{\fontsize{12pt}{14pt}\selectfont}
\newcommand{\thirteenpoint}{\fontsize{13pt}{15pt}\selectfont}
\newcommand{\fourteenpoint}{\fontsize{14pt}{16pt}\selectfont}
\newcommand{\fifteenpoint}{\fontsize{15pt}{17pt}\selectfont}

% do not indent paragraphs of enumerated lists (my lists go on for pages...)
% numbers flush left to paragraph text: \leftmargin=17pt
\newcommand{\mybegin}{\begin{list}{\labelenumi}{\leftmargin=\parindent}\usecounter{enumi}}
\newcommand{\myitem}[1]{\item {\boldslant #1}}
\newcommand{\myend}{\end{list}}

% shrink section titles
\makeatletter
\def\section{\@startsection {section}{1}{\z@}%
  {-3.5ex \@plus -1ex \@minus -.2ex}%
  {2.3ex \@plus.2ex}%
  {\normalfont\fifteenpoint\bfseries}}
\makeatother

% shrink sub-section titles
\makeatletter
\def\subsection{\@startsection{subsection}{2}{\z@}%
  {-3.25ex\@plus -1ex \@minus -.2ex}%
  {1.5ex \@plus .2ex}%
  {\normalfont\thirteenpoint\bfseries}}
\makeatother

% use same counter for figures and tables
\makeatletter
\let\c@figure\c@table % or vice-versa
\let\c@lof\c@lot % or vice-versa
\def\ftype@table{1}%
\makeatother

% do not list sub-sub sections in table of contents
\setcounter{tocdepth}{1}

% use this instead of \chapter to add chapter titles to list of figures
\newcommand{\startchapter}[1]{\chapter{#1}\addcontentsline{lof}{figure}{\hspace{-18pt}{\bf \thechapter \hspace{9.5pt} #1}}}

% fix marginpar so text stays on the page
\setlength{\marginparwidth}{0.8in}
\let\oldmarginpar\marginpar
\renewcommand\marginpar[1]{\-\oldmarginpar[\raggedleft\footnotesize #1]%
{\raggedright\footnotesize #1}}

% used to write notes to advisor.  convert to blank command for final copy.
%\newcommand{\note}[1]{\marginpar{\color{red} #1}}
\newcommand{\note}[1]{}

\pagestyle{plain}

% ----------------------------------------------------------------------

% date I'm handing in
\newcommand{\mydate}[0]{January 30, 2009}

% for my thesis only:  need sdep as early as intro an dtable of contents
\newcommand{\sdep}[0]{\textsc{sdep}}
\newcommand{\sdepf}[2]{\sdep_{#1 \small{\leftarrow} #2}}
\newcommand{\mt}[1]{\mbox{\it #1}}
\newcommand{\figsdep}[0]{\mt{SDEP}}
\newcommand{\figsdepf}[2]{\mt{SDEP}_{#1 \small{\leftarrow} #2}}

\begin{document}

\include{cover}
\include{contents}

\include{intro}
\include{language}
\include{messaging}
\include{optimizing}
\include{compression}
\include{profiling}
\include{conclusion}

\clearpage
\addcontentsline{toc}{chapter}{Bibliography}
{\elevenpoint
\bibliography{references}
\bibliographystyle{amsalpha-abbrv}
}

\appendix
% appears on wrong page
%\addcontentsline{toc}{chapter}{Appendices}
\include{example-program} % have to remove this line during diff
\include{stream-graphs}

\end{document}
