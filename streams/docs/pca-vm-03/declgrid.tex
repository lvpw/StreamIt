\newcommand{\lefttab}[1]{\begin{minipage}{0.6in}\begin{center}#1\end{center}\end{minipage}}
\begin{figure}[t]
\hspace{-13pt}\begin{minipage}{6in}
\begin{tabular}{c|c|c|c}
~ & {\small Input} & {\small Output} & {\small Input and Output}
\\ \hline
\lefttab{{\small Unordered \\ Stream}}
&
\begin{minipage}{1.8in}
  \scriptsize
  \begin{verbatim}

template <class T>
class IStreamUnordered :
      public virtual BaseStream {
public:
  T pop();
  boolean checkEOS(int n);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{2.1in}
  \scriptsize
  \begin{verbatim}

template <class T>
class OStreamUnordered :
      public virtual BaseStream {
public:
  void push(T& val, bool EOS = false);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{1.8in}
  \scriptsize
  \begin{verbatim}

template <class T>
class StreamUnordered : 
      public IStreamUnordered<T>, 
      public OStreamUnordered<T> {
}
  \end{verbatim}
\end{minipage}
\\ \hline
\lefttab{{\small Ordered \\ Stream}}
&
\begin{minipage}{1.8in}
  \scriptsize
  \begin{verbatim}

template <class T>
class IStream : 
      public IStreamUnordered<T> {
public:
  T pop();
  T peek(int index);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{2.1in}
  \scriptsize
  \begin{verbatim}

template <class T>
class OStream : 
      public OStreamUnordered<T> {
  void push(T& val);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{1.8in}
  \scriptsize
  \begin{verbatim}

template <class T>
class Stream : 
      public IStream<T>, 
      public OStream<T> {
}
  \end{verbatim}
\end{minipage}
\\ \hline
\lefttab{\small Block}
&
\begin{minipage}{1.8in}
  \scriptsize
  \begin{verbatim}

template <class T>
class IBlock : 
      public virtual BaseBlock {
public:
  T read(int index);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{2.1in}
  \scriptsize
  \begin{verbatim}

template <class T>
class OBlock :
      public virtual BaseBlock {
public:
  void write(int index, T& val);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{1.8in}
  \scriptsize
  \begin{verbatim}

template <class T>
class Block : 
      public IBlock<T>, 
      public OBlock<T> {
}
  \end{verbatim}
\end{minipage}
\end{tabular}
\end{minipage}
\caption{Class declarations for streams and blocks, with constructors ommitted for the sake of brevity.  The constructors for each stream and block have the same signatures as those in {\tt BaseStream} and {\tt BaseBlock}, respectively.\protect\label{fig:declgrid}}
\vspace{0.2in}
\begin{center}
\psfig{figure=inherit.eps,width=6in}
\caption{Class hierarchy diagram for streams and blocks.\protect\label{fig:inherit}}
\end{center}
\end{figure}
