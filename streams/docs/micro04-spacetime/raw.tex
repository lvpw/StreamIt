\begin{figure}[t]
\vspace{-12pt}
\begin{minipage}{3.2in}
\begin{center}
\begin{minipage}{0.46in}
\centering
\psfig{figure=pipeline.eps,width=0.46in} \\
\end{minipage} 
~
\begin{minipage}{1.3in}
\centering
\psfig{figure=splitjoin.eps,width=1.3in} \\
\end{minipage}
~
\begin{minipage}{1.02in}
\centering
\psfig{figure=feedback.eps,width=1.02in} \\
\end{minipage} 
\\ ~ \\ {\protect\small (a) A pipeline. ~~(b) A splitjoin. ~~(c) A feedbackloop.}
\caption{Stream structures supported by StreamIt.
\protect\label{fig:structures}}
\end{center}
\end{minipage}
~~~~~
\begin{minipage}{3in}
\centering
\vspace{15pt}
\psfig{figure=raw-diagram.eps,width=3in}
\caption{Block diagram of the Raw architecture.
\protect\label{fig:raw-diagram}}
\end{minipage}
\vspace{-12pt}
\end{figure}

\section{The Raw Architecture}
\label{sec:raw}

The Raw Microprocessor \cite{raw10,raw} addresses the wire delay
problem \cite{raw13} by providing direct instruction set architecture
(ISA) analogs to three underlying physical resources of the processor:
gates, wires and pins. Because ISA primitives exist for these
resources, a compiler such as StreamIt has direct control over both
the computation and the communication of values between the functional
units of the microprocessor, as well as across the pins of the
processor.

The architecture exposes the gate resources as a scalable 2-D array of
identical, programmable tiles, that are connected to their immediate
neighbors by four on-chip networks.  Values routed through the
networks off of the side of the array appear on the pins, and values
placed on the pins by external devices (wide-word A/Ds, DRAMS, etc.)
appear on the networks.  Each of the tiles contains a compute
processor, some memory and two types of routers--one static, one
dynamic--that control the flow of data over the networks as well as
into the compute processor (see Figure \ref{fig:raw-diagram}).  The
compute processor interfaces to the network through a bypassed,
register-mapped interface \cite{raw10} that allows instructions to use
the networks and the register files interchangeably.

Each tile's static router has a virtualized instruction memory to
control the crossbars of the two static networks. Collectively, the
static routers can reconfigure the communication pattern across these
networks every cycle.  The input and output possibilities for each
crossbar are: North, East, South, West, Processor, to the other
crossbar, and into the static router. The FIFOs are typically four or
eight elements large.  To route a word from one tile to another, the
compiler inserts a route instruction on every intermediate static
router.  Because the routers are pipelined and compile-time scheduled,
they can deliver a value from the ALU of one tile to the ALU of a
neighboring tile in 3 cycles, or more generally, 2+N cycles for an
inter-tile distance of N hops.

The results of this paper were generated using btl, a cycle-accurate
simulator that models arrays of Raw tiles identical to those in the
.15 micron 16-tile Raw prototype ASIC chip.  With a target clock rate
of 450 MHz, the tile employs as compute processor an 8-stage, single
issue, in-order MIPS-style pipeline that has a 32 KB data cache, 32 KB
of instruction memory, and 64 KB of static router memory.
