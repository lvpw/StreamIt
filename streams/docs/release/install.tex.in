\documentclass{article}

\title{Installing the StreamIt Snapshot}

\begin{document}
\maketitle

\noindent
This is for the May 28, 2003 snapshot release (streamit-0.0.20030528).\\
\verb|$Id: install.tex.in,v 1.2 2003-09-26 19:20:54 dmaze Exp $|

\section{Compilation}

Unpack the StreamIt source tar file somewhere; this can be in your
home directory, or in a shared directory.  Run \verb|./configure| from
the top-level directory, which will look for several programs needed
to use the compiler.  Perform the steps listed in ``per-user setup''
below, then log out and log in again (or reload your shell's
dotfiles).  If you have the source release, run:

\begin{verbatim}
cd $STREAMIT_HOME/compiler
make
\end{verbatim}

For either release, run:

\begin{verbatim}
cd $STREAMIT_HOME/library/c
make
\end{verbatim}

You should now be able to run the compiler.  For a minimal test:

\begin{verbatim}
cd
cp $STREAMIT_HOME/apps/examples/hello/HelloWorld6.str .
knit HelloWorld6.str
./a.out -i10
\end{verbatim}

This should print the numbers 0 through 9, in order.


\section{Per-user setup}

This depends on the shell you use; you need to set the
\verb|STREAMIT_HOME| environment variable and search paths for Java and
\LaTeX.  If you use bash, add to your \textsf{.bashrc} file

\begin{verbatim}
export STREAMIT_HOME=$HOME/streamit-0.0.20030528 # or elsewhere
\end{verbatim}

If you use tcsh, add to your \textsf{.cshrc} file

\begin{verbatim}
setenv STREAMIT_HOME ${HOME}/streamit-0.0.20030528
\end{verbatim}


\section{Source release}

The release comes with provided dotfiles that set up all of the possible
environment variables.  Note that the settings in these files as
distributed contain some paths specific to the MIT CSAIL CAG local
infrastructure.  You may want to edit these files to set some of the
paths to directories more appropriate to your site.  If you use bash,
add to your \textsf{.bashrc} file

\begin{verbatim}
. $STREAMIT_HOME/include/dot-bashrc
\end{verbatim}

If you use tcsh, add to your \textsf{.cshrc} file

\begin{verbatim}
source ${STREAMIT_HOME}/include/dot-cshrc
\end{verbatim}

If you want to override the settings the provided scripts set (for
example, the RAW StarSearch directory), set the relevant variables
after reading the \textsf{dot-bashrc} or \textsf{dot-cshrc} file.

If you are trying to install both StreamIt and the RAW tools, set up
RAW first; the setup process requires that the \verb|TOPDIR| environment
variable be unset.  After running \verb|make setup| in the starsearch
directory, edit the \textsf{dot-bashrc} and/or \textsf{dot-cshrc} files
to have the correct setting for \verb|TOPDIR|.


\section{Binary release}

Add the StreamIt jar file to your Java \verb|CLASSPATH|.  If you use
bash, add to your \textsf{.bashrc} file

\begin{verbatim}
CLASSPATH=$CLASSPATH:$STREAMIT_HOME/streamit.jar
\end{verbatim}

If you use tcsh, add to your \textsf{.cshrc} file

\begin{verbatim}
setenv CLASSPATH ${CLASSPATH}:${STREAMIT_HOME}/streamit.jar
\end{verbatim}

You may also need to add \verb|$STREAMIT_HOME/include/tex| to the
\verb|TEXINPUTS| environment variable to rebuild some of the
documentation.  That variable should have a trailing colon to pick up
the default search directories for \LaTeX.

\end{document}
